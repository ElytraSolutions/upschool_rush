import{d as ne}from"./deepmerge-15f827de.js";import{i as Se,t as Fe,c as Te}from"./lodash-es-87d1a1d5.js";import{r as o}from"./react-18892649.js";import{i as D}from"./react-fast-compare-23a9af43.js";import{w as Ne}from"./tiny-warning-c932d744.js";import"./hoist-non-react-statics-3f8ebaa8.js";function y(){return y=Object.assign||function(r){for(var t=1;t<arguments.length;t++){var u=arguments[t];for(var n in u)Object.prototype.hasOwnProperty.call(u,n)&&(r[n]=u[n])}return r},y.apply(this,arguments)}function N(r,t){if(r==null)return{};var u={},n=Object.keys(r),a,d;for(d=0;d<n.length;d++)a=n[d],!(t.indexOf(a)>=0)&&(u[a]=r[a]);return u}var $=o.createContext(void 0);$.displayName="FormikContext";var He=$.Provider;$.Consumer;function ge(){var r=o.useContext($);return r||Ne(!1),r}var I=function(t){return typeof t=="function"},z=function(t){return t!==null&&typeof t=="object"},Pe=function(t){return String(Math.floor(Number(t)))===t},re=function(t){return Object.prototype.toString.call(t)==="[object String]"},Ge=function(t){return o.Children.count(t)===0},te=function(t){return z(t)&&I(t.then)};function b(r,t,u,n){n===void 0&&(n=0);for(var a=Fe(t);r&&n<a.length;)r=r[a[n++]];return n!==a.length&&!r||r===void 0?u:r}function w(r,t,u){for(var n=Te(r),a=n,d=0,v=Fe(t);d<v.length-1;d++){var p=v[d],A=b(r,v.slice(0,d+1));if(A&&(z(A)||Array.isArray(A)))a=a[p]=Te(A);else{var S=v[d+1];a=a[p]=Pe(S)&&Number(S)>=0?[]:{}}}return(d===0?r:a)[v[d]]===u?r:(u===void 0?delete a[v[d]]:a[v[d]]=u,d===0&&u===void 0&&delete n[v[d]],n)}function be(r,t,u,n){u===void 0&&(u=new WeakMap),n===void 0&&(n={});for(var a=0,d=Object.keys(r);a<d.length;a++){var v=d[a],p=r[v];z(p)?u.get(p)||(u.set(p,!0),n[v]=Array.isArray(p)?[]:{},be(p,t,u,n[v])):n[v]=t}return n}function We(r,t){switch(t.type){case"SET_VALUES":return y({},r,{values:t.payload});case"SET_TOUCHED":return y({},r,{touched:t.payload});case"SET_ERRORS":return D(r.errors,t.payload)?r:y({},r,{errors:t.payload});case"SET_STATUS":return y({},r,{status:t.payload});case"SET_ISSUBMITTING":return y({},r,{isSubmitting:t.payload});case"SET_ISVALIDATING":return y({},r,{isValidating:t.payload});case"SET_FIELD_VALUE":return y({},r,{values:w(r.values,t.payload.field,t.payload.value)});case"SET_FIELD_TOUCHED":return y({},r,{touched:w(r.touched,t.payload.field,t.payload.value)});case"SET_FIELD_ERROR":return y({},r,{errors:w(r.errors,t.payload.field,t.payload.value)});case"RESET_FORM":return y({},r,t.payload);case"SET_FORMIK_STATE":return t.payload(r);case"SUBMIT_ATTEMPT":return y({},r,{touched:be(r.values,!0),isSubmitting:!0,submitCount:r.submitCount+1});case"SUBMIT_FAILURE":return y({},r,{isSubmitting:!1});case"SUBMIT_SUCCESS":return y({},r,{isSubmitting:!1});default:return r}}var O={},K={};function je(r){var t=r.validateOnChange,u=t===void 0?!0:t,n=r.validateOnBlur,a=n===void 0?!0:n,d=r.validateOnMount,v=d===void 0?!1:d,p=r.isInitialValid,A=r.enableReinitialize,S=A===void 0?!1:A,H=r.onSubmit,G=N(r,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),s=y({validateOnChange:u,validateOnBlur:a,validateOnMount:v,onSubmit:H},G),g=o.useRef(s.initialValues),V=o.useRef(s.initialErrors||O),M=o.useRef(s.initialTouched||K),k=o.useRef(s.initialStatus),F=o.useRef(!1),L=o.useRef({});o.useEffect(function(){return F.current=!0,function(){F.current=!1}},[]);var Y=o.useState(0),Ie=Y[1],W=o.useRef({values:s.initialValues,errors:s.initialErrors||O,touched:s.initialTouched||K,status:s.initialStatus,isSubmitting:!1,isValidating:!1,submitCount:0}),E=W.current,m=o.useCallback(function(e){var i=W.current;W.current=We(i,e),i!==W.current&&Ie(function(l){return l+1})},[]),ae=o.useCallback(function(e,i){return new Promise(function(l,c){var f=s.validate(e,i);f==null?l(O):te(f)?f.then(function(h){l(h||O)},function(h){c(h)}):l(f)})},[s.validate]),q=o.useCallback(function(e,i){var l=s.validationSchema,c=I(l)?l(i):l,f=i&&c.validateAt?c.validateAt(i,e):$e(e,c);return new Promise(function(h,T){f.then(function(){h(O)},function(_){_.name==="ValidationError"?h(Ke(_)):T(_)})})},[s.validationSchema]),ue=o.useCallback(function(e,i){return new Promise(function(l){return l(L.current[e].validate(i))})},[]),le=o.useCallback(function(e){var i=Object.keys(L.current).filter(function(c){return I(L.current[c].validate)}),l=i.length>0?i.map(function(c){return ue(c,b(e,c))}):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(l).then(function(c){return c.reduce(function(f,h,T){return h==="DO_NOT_DELETE_YOU_WILL_BE_FIRED"||h&&(f=w(f,i[T],h)),f},{})})},[ue]),Re=o.useCallback(function(e){return Promise.all([le(e),s.validationSchema?q(e):{},s.validate?ae(e):{}]).then(function(i){var l=i[0],c=i[1],f=i[2],h=ne.all([l,c,f],{arrayMerge:ze});return h})},[s.validate,s.validationSchema,le,ae,q]),C=R(function(e){return e===void 0&&(e=E.values),m({type:"SET_ISVALIDATING",payload:!0}),Re(e).then(function(i){return F.current&&(m({type:"SET_ISVALIDATING",payload:!1}),m({type:"SET_ERRORS",payload:i})),i})});o.useEffect(function(){v&&F.current===!0&&D(g.current,s.initialValues)&&C(g.current)},[v,C]);var P=o.useCallback(function(e){var i=e&&e.values?e.values:g.current,l=e&&e.errors?e.errors:V.current?V.current:s.initialErrors||{},c=e&&e.touched?e.touched:M.current?M.current:s.initialTouched||{},f=e&&e.status?e.status:k.current?k.current:s.initialStatus;g.current=i,V.current=l,M.current=c,k.current=f;var h=function(){m({type:"RESET_FORM",payload:{isSubmitting:!!e&&!!e.isSubmitting,errors:l,touched:c,status:f,values:i,isValidating:!!e&&!!e.isValidating,submitCount:e&&e.submitCount&&typeof e.submitCount=="number"?e.submitCount:0}})};if(s.onReset){var T=s.onReset(E.values,Ee);te(T)?T.then(h):h()}else h()},[s.initialErrors,s.initialStatus,s.initialTouched]);o.useEffect(function(){F.current===!0&&!D(g.current,s.initialValues)&&S&&(g.current=s.initialValues,P(),v&&C(g.current))},[S,s.initialValues,P,v,C]),o.useEffect(function(){S&&F.current===!0&&!D(V.current,s.initialErrors)&&(V.current=s.initialErrors||O,m({type:"SET_ERRORS",payload:s.initialErrors||O}))},[S,s.initialErrors]),o.useEffect(function(){S&&F.current===!0&&!D(M.current,s.initialTouched)&&(M.current=s.initialTouched||K,m({type:"SET_TOUCHED",payload:s.initialTouched||K}))},[S,s.initialTouched]),o.useEffect(function(){S&&F.current===!0&&!D(k.current,s.initialStatus)&&(k.current=s.initialStatus,m({type:"SET_STATUS",payload:s.initialStatus}))},[S,s.initialStatus,s.initialTouched]);var oe=R(function(e){if(L.current[e]&&I(L.current[e].validate)){var i=b(E.values,e),l=L.current[e].validate(i);return te(l)?(m({type:"SET_ISVALIDATING",payload:!0}),l.then(function(c){return c}).then(function(c){m({type:"SET_FIELD_ERROR",payload:{field:e,value:c}}),m({type:"SET_ISVALIDATING",payload:!1})})):(m({type:"SET_FIELD_ERROR",payload:{field:e,value:l}}),Promise.resolve(l))}else if(s.validationSchema)return m({type:"SET_ISVALIDATING",payload:!0}),q(E.values,e).then(function(c){return c}).then(function(c){m({type:"SET_FIELD_ERROR",payload:{field:e,value:b(c,e)}}),m({type:"SET_ISVALIDATING",payload:!1})});return Promise.resolve()}),Ae=o.useCallback(function(e,i){var l=i.validate;L.current[e]={validate:l}},[]),Ce=o.useCallback(function(e){delete L.current[e]},[]),ce=R(function(e,i){m({type:"SET_TOUCHED",payload:e});var l=i===void 0?a:i;return l?C(E.values):Promise.resolve()}),se=o.useCallback(function(e){m({type:"SET_ERRORS",payload:e})},[]),de=R(function(e,i){var l=I(e)?e(E.values):e;m({type:"SET_VALUES",payload:l});var c=i===void 0?u:i;return c?C(l):Promise.resolve()}),j=o.useCallback(function(e,i){m({type:"SET_FIELD_ERROR",payload:{field:e,value:i}})},[]),U=R(function(e,i,l){m({type:"SET_FIELD_VALUE",payload:{field:e,value:i}});var c=l===void 0?u:l;return c?C(w(E.values,e,i)):Promise.resolve()}),fe=o.useCallback(function(e,i){var l=i,c=e,f;if(!re(e)){e.persist&&e.persist();var h=e.target?e.target:e.currentTarget,T=h.type,_=h.name,x=h.id,ee=h.value,Ue=h.checked,Xe=h.outerHTML,ye=h.options,Be=h.multiple;l=i||_||x,c=/number|range/.test(T)?(f=parseFloat(ee),isNaN(f)?"":f):/checkbox/.test(T)?qe(b(E.values,l),Ue,ee):ye&&Be?Ye(ye):ee}l&&U(l,c)},[U,E.values]),J=R(function(e){if(re(e))return function(i){return fe(i,e)};fe(e)}),B=R(function(e,i,l){i===void 0&&(i=!0),m({type:"SET_FIELD_TOUCHED",payload:{field:e,value:i}});var c=l===void 0?a:l;return c?C(E.values):Promise.resolve()}),ve=o.useCallback(function(e,i){e.persist&&e.persist();var l=e.target,c=l.name,f=l.id,h=l.outerHTML,T=i||c||f;B(T,!0)},[B]),Q=R(function(e){if(re(e))return function(i){return ve(i,e)};ve(e)}),he=o.useCallback(function(e){I(e)?m({type:"SET_FORMIK_STATE",payload:e}):m({type:"SET_FORMIK_STATE",payload:function(){return e}})},[]),me=o.useCallback(function(e){m({type:"SET_STATUS",payload:e})},[]),pe=o.useCallback(function(e){m({type:"SET_ISSUBMITTING",payload:e})},[]),X=R(function(){return m({type:"SUBMIT_ATTEMPT"}),C().then(function(e){var i=e instanceof Error,l=!i&&Object.keys(e).length===0;if(l){var c;try{if(c=Le(),c===void 0)return}catch(f){throw f}return Promise.resolve(c).then(function(f){return F.current&&m({type:"SUBMIT_SUCCESS"}),f}).catch(function(f){if(F.current)throw m({type:"SUBMIT_FAILURE"}),f})}else if(F.current&&(m({type:"SUBMIT_FAILURE"}),i))throw e})}),Ve=R(function(e){e&&e.preventDefault&&I(e.preventDefault)&&e.preventDefault(),e&&e.stopPropagation&&I(e.stopPropagation)&&e.stopPropagation(),X().catch(function(i){console.warn("Warning: An unhandled error was caught from submitForm()",i)})}),Ee={resetForm:P,validateForm:C,validateField:oe,setErrors:se,setFieldError:j,setFieldTouched:B,setFieldValue:U,setStatus:me,setSubmitting:pe,setTouched:ce,setValues:de,setFormikState:he,submitForm:X},Le=R(function(){return H(E.values,Ee)}),Me=R(function(e){e&&e.preventDefault&&I(e.preventDefault)&&e.preventDefault(),e&&e.stopPropagation&&I(e.stopPropagation)&&e.stopPropagation(),P()}),_e=o.useCallback(function(e){return{value:b(E.values,e),error:b(E.errors,e),touched:!!b(E.touched,e),initialValue:b(g.current,e),initialTouched:!!b(M.current,e),initialError:b(V.current,e)}},[E.errors,E.touched,E.values]),ke=o.useCallback(function(e){return{setValue:function(l,c){return U(e,l,c)},setTouched:function(l,c){return B(e,l,c)},setError:function(l){return j(e,l)}}},[U,B,j]),Oe=o.useCallback(function(e){var i=z(e),l=i?e.name:e,c=b(E.values,l),f={name:l,value:c,onChange:J,onBlur:Q};if(i){var h=e.type,T=e.value,_=e.as,x=e.multiple;h==="checkbox"?T===void 0?f.checked=!!c:(f.checked=!!(Array.isArray(c)&&~c.indexOf(T)),f.value=T):h==="radio"?(f.checked=c===T,f.value=T):_==="select"&&x&&(f.value=f.value||[],f.multiple=!0)}return f},[Q,J,E.values]),Z=o.useMemo(function(){return!D(g.current,E.values)},[g.current,E.values]),De=o.useMemo(function(){return typeof p<"u"?Z?E.errors&&Object.keys(E.errors).length===0:p!==!1&&I(p)?p(s):p:E.errors&&Object.keys(E.errors).length===0},[p,Z,E.errors,s]),we=y({},E,{initialValues:g.current,initialErrors:V.current,initialTouched:M.current,initialStatus:k.current,handleBlur:Q,handleChange:J,handleReset:Me,handleSubmit:Ve,resetForm:P,setErrors:se,setFormikState:he,setFieldTouched:B,setFieldValue:U,setFieldError:j,setStatus:me,setSubmitting:pe,setTouched:ce,setValues:de,submitForm:X,validateForm:C,validateField:oe,isValid:De,dirty:Z,unregisterField:Ce,registerField:Ae,getFieldProps:Oe,getFieldMeta:_e,getFieldHelpers:ke,validateOnBlur:a,validateOnChange:u,validateOnMount:v});return we}function ir(r){var t=je(r),u=r.component,n=r.children,a=r.render,d=r.innerRef;return o.useImperativeHandle(d,function(){return t}),o.createElement(He,{value:t},u?o.createElement(u,t):a?a(t):n?I(n)?n(t):Ge(n)?null:o.Children.only(n):null)}function Ke(r){var t={};if(r.inner){if(r.inner.length===0)return w(t,r.path,r.message);for(var a=r.inner,u=Array.isArray(a),n=0,a=u?a:a[Symbol.iterator]();;){var d;if(u){if(n>=a.length)break;d=a[n++]}else{if(n=a.next(),n.done)break;d=n.value}var v=d;b(t,v.path)||(t=w(t,v.path,v.message))}}return t}function $e(r,t,u,n){u===void 0&&(u=!1);var a=ie(r);return t[u?"validateSync":"validate"](a,{abortEarly:!1,context:n||a})}function ie(r){var t=Array.isArray(r)?[]:{};for(var u in r)if(Object.prototype.hasOwnProperty.call(r,u)){var n=String(u);Array.isArray(r[n])===!0?t[n]=r[n].map(function(a){return Array.isArray(a)===!0||Se(a)?ie(a):a!==""?a:void 0}):Se(r[n])?t[n]=ie(r[n]):t[n]=r[n]!==""?r[n]:void 0}return t}function ze(r,t,u){var n=r.slice();return t.forEach(function(d,v){if(typeof n[v]>"u"){var p=u.clone!==!1,A=p&&u.isMergeableObject(d);n[v]=A?ne(Array.isArray(d)?[]:{},d,u):d}else u.isMergeableObject(d)?n[v]=ne(r[v],d,u):r.indexOf(d)===-1&&n.push(d)}),n}function Ye(r){return Array.from(r).filter(function(t){return t.selected}).map(function(t){return t.value})}function qe(r,t,u){if(typeof r=="boolean")return!!t;var n=[],a=!1,d=-1;if(Array.isArray(r))n=r,d=r.indexOf(u),a=d>=0;else if(!u||u=="true"||u=="false")return!!t;return t&&u&&!a?n.concat(u):a?n.slice(0,d).concat(n.slice(d+1)):n}var Je=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?o.useLayoutEffect:o.useEffect;function R(r){var t=o.useRef(r);return Je(function(){t.current=r}),o.useCallback(function(){for(var u=arguments.length,n=new Array(u),a=0;a<u;a++)n[a]=arguments[a];return t.current.apply(void 0,n)},[])}function ar(r){var t=r.validate,u=r.name,n=r.render,a=r.children,d=r.as,v=r.component,p=N(r,["validate","name","render","children","as","component"]),A=ge(),S=N(A,["validate","validationSchema"]),H=S.registerField,G=S.unregisterField;o.useEffect(function(){return H(u,{validate:t}),function(){G(u)}},[H,G,u,t]);var s=S.getFieldProps(y({name:u},p)),g=S.getFieldMeta(u),V={field:s,form:S};if(n)return n(y({},V,{meta:g}));if(I(a))return a(y({},V,{meta:g}));if(v){if(typeof v=="string"){var M=p.innerRef,k=N(p,["innerRef"]);return o.createElement(v,y({ref:M},s,k),a)}return o.createElement(v,y({field:s,form:S},p),a)}var F=d||"input";if(typeof F=="string"){var L=p.innerRef,Y=N(p,["innerRef"]);return o.createElement(F,y({ref:L},s,Y),a)}return o.createElement(F,y({},s,p),a)}var Qe=o.forwardRef(function(r,t){var u=r.action,n=N(r,["action"]),a=u??"#",d=ge(),v=d.handleReset,p=d.handleSubmit;return o.createElement("form",y({onSubmit:p,ref:t,onReset:v,action:a},n))});Qe.displayName="Form";export{ir as F,ar as a};
